<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KursGenerator Pro - Aus Videos werden Kurse</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
        }
        .video-upload-area {
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }
        .video-upload-area:hover {
            border-color: #6366f1;
            background-color: #f8fafc;
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <i class="fas fa-video text-2xl text-indigo-600 mr-3"></i>
                    <span class="text-xl font-bold text-gray-900">KursGenerator Pro</span>
                </div>
                <div class="flex items-center space-x-4" id="navButtons">
                    <button onclick="showLogin()" class="text-gray-600 hover:text-indigo-600">Anmelden</button>
                    <button onclick="showPayment()" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700">Jetzt kaufen</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Landing Page -->
    <div id="landingPage" class="min-h-screen">
        <!-- Hero Section -->
        <section class="gradient-bg text-white py-20">
            <div class="max-w-4xl mx-auto text-center px-4">
                <h1 class="text-5xl font-bold mb-6">Verwandle deine Videos in professionelle Online-Kurse</h1>
                <p class="text-xl mb-8 opacity-90">Komplett automatisch. KI-gest√ºtzt. In unter 2 Stunden fertig.</p>
                <div class="bg-white bg-opacity-20 rounded-lg p-6 mb-8 glass-effect">
                    <div class="flex items-center justify-center space-x-8 text-lg">
                        <div class="flex items-center"><i class="fas fa-check text-green-300 mr-2"></i> Automatische Transkription</div>
                        <div class="flex items-center"><i class="fas fa-check text-green-300 mr-2"></i> Kapitel-Generierung</div>
                        <div class="flex items-center"><i class="fas fa-check text-green-300 mr-2"></i> Quiz-Erstellung</div>
                        <div class="flex items-center"><i class="fas fa-check text-green-300 mr-2"></i> PDF-Export</div>
                    </div>
                </div>
                <button onclick="showPayment()" class="bg-yellow-500 text-gray-900 px-8 py-4 rounded-lg text-xl font-bold hover:bg-yellow-400 transition-colors">
                    Jetzt f√ºr nur 499‚Ç¨ kaufen <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </section>

        <!-- Features Section -->
        <section class="py-16 bg-white">
            <div class="max-w-6xl mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12">Was du bekommst</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="text-center p-6 rounded-lg border hover:shadow-lg transition-shadow">
                        <i class="fas fa-magic text-4xl text-indigo-600 mb-4"></i>
                        <h3 class="text-xl font-bold mb-3">KI-Powered Verarbeitung</h3>
                        <p class="text-gray-600">Automatische Transkription und intelligente Kapitel-Aufteilung nach deinen W√ºnschen (3-40 Min.)</p>
                    </div>
                    <div class="text-center p-6 rounded-lg border hover:shadow-lg transition-shadow">
                        <i class="fas fa-graduation-cap text-4xl text-green-600 mb-4"></i>
                        <h3 class="text-xl font-bold mb-3">Komplette Kursstruktur</h3>
                        <p class="text-gray-600">Lernziele, Zusammenfassungen, Quiz-Fragen und Tests - alles automatisch generiert</p>
                    </div>
                    <div class="text-center p-6 rounded-lg border hover:shadow-lg transition-shadow">
                        <i class="fas fa-file-pdf text-4xl text-red-600 mb-4"></i>
                        <h3 class="text-xl font-bold mb-3">Professionelle PDFs</h3>
                        <p class="text-gray-600">Kursskripte, Arbeitsbl√§tter und Quiz-Sammlungen als hochwertige PDF-Dateien</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section class="py-16 bg-gray-50">
            <div class="max-w-4xl mx-auto px-4 text-center">
                <h2 class="text-3xl font-bold mb-8">Einmalig kaufen, unbegrenzt nutzen</h2>
                <div class="bg-white rounded-lg shadow-xl p-8 max-w-md mx-auto">
                    <div class="text-5xl font-bold text-indigo-600 mb-4">499‚Ç¨</div>
                    <div class="text-gray-600 mb-6">Einmalige Zahlung</div>
                    <ul class="text-left space-y-3 mb-8">
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Unbegrenzte Video-Verarbeitung</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Alle Features inklusive</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>Lebenslanger Zugang</li>
                        <li class="flex items-center"><i class="fas fa-check text-green-500 mr-3"></i>30 Tage Geld-zur√ºck-Garantie</li>
                    </ul>
                    <button onclick="showPayment()" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors">
                        Jetzt kaufen
                    </button>
                </div>
            </div>
        </section>
    </div>

    <!-- Payment Page -->
    <div id="paymentPage" class="min-h-screen py-16 hidden">
        <div class="max-w-md mx-auto bg-white rounded-lg shadow-xl p-8">
            <h2 class="text-2xl font-bold mb-6 text-center">Zahlung abschlie√üen</h2>
            <div class="bg-gray-50 p-4 rounded-lg mb-6">
                <div class="flex justify-between items-center">
                    <span>KursGenerator Pro - Lebenslang</span>
                    <span class="font-bold">499‚Ç¨</span>
                </div>
            </div>
            <form id="payment-form">
                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">E-Mail-Adresse</label>
                    <input type="email" id="email" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Passwort erstellen</label>
                    <input type="password" id="password" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                </div>
                <div id="card-element" class="p-3 border border-gray-300 rounded-lg mb-4">
                    <!-- Stripe Elements Card Input -->
                </div>
                <button type="submit" id="submit-button" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors">
                    <span id="submit-text">499‚Ç¨ bezahlen</span>
                    <i id="submit-spinner" class="fas fa-spinner fa-spin ml-2 hidden"></i>
                </button>
            </form>
            <div class="mt-4 text-center">
                <button onclick="showLanding()" class="text-indigo-600 hover:underline">‚Üê Zur√ºck zur Startseite</button>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="min-h-screen py-16 hidden">
        <div class="max-w-md mx-auto bg-white rounded-lg shadow-xl p-8">
            <h2 class="text-2xl font-bold mb-6 text-center">Anmelden</h2>
            <form id="login-form">
                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">E-Mail-Adresse</label>
                    <input type="email" id="login-email" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">Passwort</label>
                    <input type="password" id="login-password" required class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                </div>
                <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors">
                    Anmelden
                </button>
            </form>
            <div class="mt-4 text-center">
                <p class="text-gray-600">Noch kein Account? <button onclick="showPayment()" class="text-indigo-600 hover:underline">Jetzt kaufen</button></p>
                <button onclick="showLanding()" class="text-indigo-600 hover:underline mt-2">‚Üê Zur√ºck zur Startseite</button>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="min-h-screen py-8 hidden">
        <div class="max-w-6xl mx-auto px-4">
            <div class="bg-white rounded-lg shadow-xl p-8">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-3xl font-bold">KursGenerator Dashboard</h1>
                    <button onclick="logout()" class="text-red-600 hover:underline">Abmelden</button>
                </div>

                <!-- Upload Section -->
                <div id="uploadSection">
                    <h2 class="text-xl font-bold mb-4">Neues Video hochladen</h2>
                    <div class="video-upload-area p-12 text-center rounded-lg mb-6" id="dropZone">
                        <i class="fas fa-cloud-upload-alt text-6xl text-gray-400 mb-4"></i>
                        <p class="text-xl text-gray-600 mb-2">Video hier ablegen oder klicken zum Ausw√§hlen</p>
                        <p class="text-gray-500">Unterst√ºtzt: MP4, MOV, AVI (max. 3 Stunden)</p>
                        <input type="file" id="videoFile" accept="video/*" class="hidden">
                    </div>

                    <!-- Settings -->
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <label class="block text-sm font-medium mb-2">Kapitel-L√§nge (Minuten)</label>
                            <div class="flex items-center space-x-4">
                                <span class="text-sm">3</span>
                                <input type="range" id="chapterLength" min="3" max="40" value="15" class="flex-1">
                                <span class="text-sm">40</span>
                                <span id="chapterValue" class="text-lg font-bold text-indigo-600">15 Min</span>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <label class="flex items-center">
                                <input type="checkbox" id="generateObjectives" checked class="mr-2">
                                <span>Lernziele generieren</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" id="detailedSummary" checked class="mr-2">
                                <span>Ausf√ºhrliche Zusammenfassungen</span>
                            </label>
                        </div>
                    </div>

                    <button id="processBtn" onclick="processVideo()" disabled class="bg-indigo-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-indigo-700 transition-colors disabled:bg-gray-400">
                        <i class="fas fa-play mr-2"></i> Video verarbeiten
                    </button>
                </div>

                <!-- Processing Section -->
                <div id="processingSection" class="hidden">
                    <h2 class="text-xl font-bold mb-4">Video wird verarbeitet...</h2>
                    <div class="bg-gray-200 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-2">
                            <span id="currentStep">Schritt 1: Video wird analysiert...</span>
                            <span id="stepCounter">1 / 8</span>
                        </div>
                        <div class="bg-gray-300 rounded-full h-3 mb-4">
                            <div id="progressBar" class="bg-indigo-600 rounded-full h-3 progress-bar" style="width: 0%"></div>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-spinner fa-spin text-2xl text-indigo-600"></i>
                            <p class="text-gray-600 mt-2">Gesch√§tzte Verarbeitungszeit: <span id="estimatedTime">5-10 Minuten</span></p>
                        </div>
                    </div>
                </div>

                <!-- Results Section -->
                <div id="resultsSection" class="hidden">
                    <h2 class="text-xl font-bold mb-4">Kurs erfolgreich erstellt! üéâ</h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                            <h3 class="font-bold text-green-800 mb-3">Generierte Inhalte</h3>
                            <ul class="space-y-2 text-green-700">
                                <li><i class="fas fa-check mr-2"></i><span id="chapterCount">8 Kapitel</span> erstellt</li>
                                <li><i class="fas fa-check mr-2"></i><span id="questionCount">45 Quiz-Fragen</span> generiert</li>
                                <li><i class="fas fa-check mr-2"></i>Vollst√§ndiges Transkript aufbereitet</li>
                                <li><i class="fas fa-check mr-2"></i>PDF-Dokumente erstellt</li>
                            </ul>
                        </div>
                        <div class="space-y-3">
                            <button onclick="downloadPDF('script')" class="w-full bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 transition-colors">
                                <i class="fas fa-file-pdf mr-2"></i> Kursskript herunterladen
                            </button>
                            <button onclick="downloadPDF('quiz')" class="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors">
                                <i class="fas fa-question-circle mr-2"></i> Quiz-Sammlung herunterladen
                            </button>
                            <button onclick="downloadPDF('workbook')" class="w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition-colors">
                                <i class="fas fa-book mr-2"></i> Arbeitsbl√§tter herunterladen
                            </button>
                        </div>
                    </div>
                    <div class="mt-6 text-center">
                        <button onclick="resetUpload()" class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors">
                            <i class="fas fa-plus mr-2"></i> Neues Video verarbeiten
                        </button>
                    </div>
                </div>
            </div>

            <!-- History Section -->
            <div class="bg-white rounded-lg shadow-xl p-8 mt-8">
                <h2 class="text-xl font-bold mb-4">Verarbeitete Videos</h2>
                <div id="videoHistory" class="space-y-4">
                    <!-- History items will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let stripe;
        let elements;
        let currentUser = null;
        let processedData = null;

        // Initialize Stripe (replace with your public key)
        const STRIPE_PUBLIC_KEY = 'pk_test_51234567890abcdef...'; // Replace with your actual Stripe public key
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                if (currentUser.hasPurchased) {
                    showDashboard();
                }
            }
            
            // Initialize file upload
            setupFileUpload();
            
            // Initialize range slider
            setupRangeSlider();
            
            // Initialize Stripe
            initializeStripe();
        });

        // Navigation functions
        function showLanding() {
            hideAllPages();
            document.getElementById('landingPage').classList.remove('hidden');
        }

        function showPayment() {
            hideAllPages();
            document.getElementById('paymentPage').classList.remove('hidden');
            if (!stripe) initializeStripe();
        }

        function showLogin() {
            hideAllPages();
            document.getElementById('loginPage').classList.remove('hidden');
        }

        function showDashboard() {
            hideAllPages();
            document.getElementById('dashboard').classList.remove('hidden');
            updateNavigation();
            loadVideoHistory();
        }

        function hideAllPages() {
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('paymentPage').classList.add('hidden');
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('dashboard').classList.add('hidden');
        }

        function updateNavigation() {
            const navButtons = document.getElementById('navButtons');
            if (currentUser && currentUser.hasPurchased) {
                navButtons.innerHTML = `
                    <span class="text-gray-600">Willkommen, ${currentUser.email}</span>
                    <button onclick="logout()" class="text-red-600 hover:text-red-800">Abmelden</button>
                `;
            }
        }

        // Stripe initialization
        function initializeStripe() {
            if (STRIPE_PUBLIC_KEY.includes('pk_test') || STRIPE_PUBLIC_KEY.includes('pk_live')) {
                stripe = Stripe(STRIPE_PUBLIC_KEY);
                elements = stripe.elements();
                
                const cardElement = elements.create('card');
                cardElement.mount('#card-element');
            }
        }

        // Payment handling
        document.getElementById('payment-form').addEventListener('submit', async function(event) {
            event.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (!email || !password) {
                alert('Bitte alle Felder ausf√ºllen');
                return;
            }

            // Show loading
            document.getElementById('submit-text').textContent = 'Verarbeitung...';
            document.getElementById('submit-spinner').classList.remove('hidden');
            
            // Simulate payment processing
            setTimeout(() => {
                // Create user account
                currentUser = {
                    email: email,
                    password: password, // In real app, this would be hashed
                    hasPurchased: true,
                    purchaseDate: new Date().toISOString()
                };
                
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                alert('Zahlung erfolgreich! Willkommen bei KursGenerator Pro!');
                showDashboard();
            }, 2000);
        });

        // Login handling
        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Simple login check (in real app, this would be server-side)
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                const user = JSON.parse(savedUser);
                if (user.email === email && user.password === password) {
                    currentUser = user;
                    showDashboard();
                } else {
                    alert('Falsche E-Mail oder Passwort');
                }
            } else {
                alert('Kein Account gefunden. Bitte erst kaufen.');
            }
        });

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            showLanding();
            location.reload();
        }

        // File upload setup
        function setupFileUpload() {
            const dropZone = document.getElementById('dropZone');
            const fileInput = document.getElementById('videoFile');
            const processBtn = document.getElementById('processBtn');

            dropZone.addEventListener('click', () => fileInput.click());
            
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.style.borderColor = '#6366f1';
                dropZone.style.backgroundColor = '#f8fafc';
            });
            
            dropZone.addEventListener('dragleave', () => {
                dropZone.style.borderColor = '#d1d5db';
                dropZone.style.backgroundColor = 'transparent';
            });
            
            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFileSelect(files[0]);
                }
                dropZone.style.borderColor = '#d1d5db';
                dropZone.style.backgroundColor = 'transparent';
            });
            
            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleFileSelect(e.target.files[0]);
                }
            });
        }

        function handleFileSelect(file) {
            if (!file.type.startsWith('video/')) {
                alert('Bitte nur Video-Dateien ausw√§hlen');
                return;
            }

            const maxSize = 2 * 1024 * 1024 * 1024; // 2GB
            if (file.size > maxSize) {
                alert('Datei zu gro√ü. Maximum: 2GB');
                return;
            }

            document.getElementById('dropZone').innerHTML = `
                <i class="fas fa-check-circle text-6xl text-green-500 mb-4"></i>
                <p class="text-xl text-green-600 mb-2">Video ausgew√§hlt: ${file.name}</p>
                <p class="text-gray-500">Gr√∂√üe: ${(file.size / (1024 * 1024)).toFixed(1)} MB</p>
            `;
            
            document.getElementById('processBtn').disabled = false;
        }

        // Range slider setup
        function setupRangeSlider() {
            const slider = document.getElementById('chapterLength');
            const valueDisplay = document.getElementById('chapterValue');
            
            slider.addEventListener('input', function() {
                valueDisplay.textContent = this.value + ' Min';
            });
        }

        // Video processing
        async function processVideo() {
            document.getElementById('uploadSection').classList.add('hidden');
            document.getElementById('processingSection').classList.remove('hidden');
            
            const steps = [
                'Video wird analysiert...',
                'Audio wird extrahiert...',
                'Transkription l√§uft...',
                'Kapitel werden erstellt...',
                'Lernziele werden generiert...',
                'Quiz-Fragen werden erstellt...',
                'Zusammenfassungen werden geschrieben...',
                'PDF-Dateien werden generiert...'
            ];
            
            let currentStepIndex = 0;
            const progressBar = document.getElementById('progressBar');
            const currentStepElement = document.getElementById('currentStep');
            const stepCounter = document.getElementById('stepCounter');
            
            const interval = setInterval(() => {
                const progress = ((currentStepIndex + 1) / steps.length) * 100;
                progressBar.style.width = progress + '%';
                currentStepElement.textContent = steps[currentStepIndex];
                stepCounter.textContent = `${currentStepIndex + 1} / ${steps.length}`;
                
                currentStepIndex++;
                
                if (currentStepIndex >= steps.length) {
                    clearInterval(interval);
                    finishProcessing();
                }
            }, 2000);
        }

        function finishProcessing() {
            // Simulate processing results
            const chapterLength = document.getElementById('chapterLength').value;
            const chapterCount = Math.ceil(180 / parseInt(chapterLength)); // Assuming 3 hour video
            const questionCount = chapterCount * 6; // 6 questions per chapter
            
            document.getElementById('chapterCount').textContent = `${chapterCount} Kapitel`;
            document.getElementById('questionCount').textContent = `${questionCount} Quiz-Fragen`;
            
            // Store processed data
            processedData = {
                chapterCount: chapterCount,
                questionCount: questionCount,
                processedAt: new Date().toISOString()
            };
            
            // Save to history
            saveToHistory();
            
            document.getElementById('processingSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');
        }

        // PDF Generation
        function downloadPDF(type) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            let title, content;
            
            switch(type) {
                case 'script':
                    title = 'Kursskript';
                    content = generateScriptContent();
                    break;
                case 'quiz':
                    title = 'Quiz-Sammlung';
                    content = generateQuizContent();
                    break;
                case 'workbook':
                    title = 'Arbeitsbl√§tter';
                    content = generateWorkbookContent();
                    break;
            }
            
            // Add title
            doc.setFontSize(20);
            doc.text(title, 20, 20);
            
            // Add content
            doc.setFontSize(12);
            const lines = content.split('\n');
            let y = 40;
            
            lines.forEach(line => {
                if (y > 280) { // New page if needed
                    doc.addPage();
                    y = 20;
                }
                doc.text(line, 20, y);
                y += 7;
            });
            
            doc.save(`${title.toLowerCase().replace(' ', '_')}.pdf`);
        }

        function generateScriptContent() {
            return `KAPITEL 1: Einf√ºhrung
Das ist der Inhalt des ersten Kapitels mit allen wichtigen Konzepten und Beispielen.

Lernziele:
- Verstehen der Grundlagen
- Anwendung der Prinzipien
- Praktische Umsetzung

KAPITEL 2: Fortgeschrittene Techniken
Hier folgt der Inhalt des zweiten Kapitels...

[Weitere Kapitel folgen basierend auf der Video-Analyse]`;
        }

        function generateQuizContent() {
            return `QUIZ - KAPITEL 1

Frage 1: Was ist das Hauptziel dieses Kurses?
a) Option A
b) Option B
c) Option C ‚úì
d) Option D

Erkl√§rung: Die richtige Antwort ist C, weil...

Frage 2: Welche Methode wird empfohlen?
a) Methode 1 ‚úì
b) Methode 2
c) Methode 3
d) Methode 4

[Weitere Quiz-Fragen folgen...]`;
        }

        function generateWorkbookContent() {
            return `ARBEITSBL√ÑTTER

√úbung 1: Grundlagen anwenden
Beschreibung der √úbung...

Arbeitsbereich:
_________________________________
_________________________________
_________________________________

√úbung 2: Praktische Anwendung
Weitere √úbung mit Arbeitsbereich...

[Weitere √úbungen folgen...]`;
        }

        function saveToHistory() {
            let history = JSON.parse(localStorage.getItem('videoHistory') || '[]');
            history.unshift({
                id: Date.now(),
                fileName: 'Video_' + Date.now(),
                processedAt: new Date().toLocaleString('de-DE'),
                chapterCount: processedData.chapterCount,
                questionCount: processedData.questionCount
            });
            localStorage.setItem('videoHistory', JSON.stringify(history));
        }

        function loadVideoHistory() {
            const history = JSON.parse(localStorage.getItem('videoHistory') || '[]');
            const historyContainer = document.getElementById('videoHistory');
            
            if (history.length === 0) {
                historyContainer.innerHTML = '<p class="text-gray-500">Noch keine Videos verarbeitet</p>';
                return;
            }
            
            historyContainer.innerHTML = history.map(item => `
                <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                    <div>
                        <h3 class="font-medium">${item.fileName}</h3>
                        <p class="text-sm text-gray-600">${item.processedAt} ‚Ä¢ ${item.chapterCount} Kapitel ‚Ä¢ ${item.questionCount} Fragen</p>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="downloadPDF('script')" class="text-red-600 hover:text-red-800">
                            <i class="fas fa-file-pdf"></i>
                        </button>
                        <button onclick="downloadPDF('quiz')" class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-question-circle"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function resetUpload() {
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('uploadSection').classList.remove('hidden');
            
            document.getElementById('dropZone').innerHTML = `
                <i class="fas fa-cloud-upload-alt text-6xl text-gray-400 mb-4"></i>
                <p class="text-xl text-gray-600 mb-2">Video hier ablegen oder klicken zum Ausw√§hlen</p>
                <p class="text-gray-500">Unterst√ºtzt: MP4, MOV, AVI (max. 3 Stunden)</p>
            `;
            
            document.getElementById('processBtn').disabled = true;
            document.getElementById('videoFile').value = '';
        }
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"96b203fcc83c35e4","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.7.0","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDhYkgxR%2FKo6%2Bs7jpQeTRssjsbG3iAqrKDzuqUsZIdReA1yN2g6mt3yNXmlYFtpERH7FwqQr1Tt%2BuWZPC%2Brtcf3C6dSuxDqXvfZtWbVMykRfZ0dJFS6JcbLTK3wg49PwC6AEpvEOyW2u6RPbkayGY6mktkVD%2FXsss%2FODgottTe966mDkBOx1a9ib1Gw4Ic%2FAiru%2Bfao6B8iAE83ELV%2BgWBNCq1%2FfsPG5SpXHgB%2BU%2B%2FX39Ukz3Dpr0%2FNIM%2B7ocg4YQMslDpzwp18lXgTqtOhXxBQIeP4q7jPv0fBmdEQPZKP4oQH2xuC9H%2BP5VckUNTBslgpOpI82iihCtjkErLvJfGJWNq4BQK9gub3Tqu9OlXovQ%2BSPRZRPqOGeTXP%2BfrFEeRT3eEp%2BkAvnZ4ZOcAibihp4x16TDiZVNoR871Fc4rggt04vlaTC0mJSha1mw1RL1mBSkB%2FZ01olFrfAHk2JSSDFpHu7K9bzEuVQ79CAKRuGyMHkKXIrY6bQrUP9JwHep5g%3D%3D";
        window.__genspark_locale = "de-DE";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDhYkgxR/Ko6+s7jpQeTRssjsbG3iAqrKDzuqUsZIdReA1yN2g6mt3yNXmlYFtpERH7FwqQr1Tt+uWZPC+rtcf3C6dSuxDqXvfZtWbVMykRfZ0dJFS6JcbLTK3wg49PwC6AEpvEOyW2u6RPbkayGY6mktkVD/Xsss/ODgottTe966mDkBOx1a9ib1Gw4Ic/Airu+fao6B8iAE83ELV+gWBNCq1/fsPG5SpXHgB+U+/X39Ukz3Dpr0/NIM+7ocg4YQMslDpzwp18lXgTqtOhXxBQIeP4q7jPv0fBmdEQPZKP4oQH2xuC9H+P5VckUNTBslgpOpI82iihCtjkErLvJfGJWNq4BQK9gub3Tqu9OlXovQ+SPRZRPqOGeTXP+frFEeRT3eEp+kAvnZ4ZOcAibihp4x16TDiZVNoR871Fc4rggt04vlaTC0mJSha1mw1RL1mBSkB/Z01olFrfAHk2JSSDFpHu7K9bzEuVQ79CAKRuGyMHkKXIrY6bQrUP9JwHep5g==";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    